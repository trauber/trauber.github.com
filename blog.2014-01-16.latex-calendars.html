<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

<!-- Basic Page Needs
================================================== -->
<meta charset="utf-8">
<title>Rich Traube - blog</title>

<meta name="description" content="github userspace page" />
<meta name="keywords" content="poole" />

<meta name="author" content="Rich Traube">

<!-- Mobile Specific Metas
================================================== -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- CSS
================================================== -->
<link rel="stylesheet" href="/css/base.css">
<link rel="stylesheet" href="/css/skeleton.css">
<link rel="stylesheet" href="/css/layout.css">
<link rel="stylesheet" href="/css/assets.css">

<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Favicons
================================================== -->
<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png">



</head>
<body>
<div class="container">
	<div class="sixteen columns">
			<h1>Rich Traube</h1>
				<hr class="snow" />
		</div>
		<div class="two columns">
			<ul id="menu">
			<li><span class=""><a href="/index.html">home</a></span></li>
<li><span class="current"><a href="/blog.html">blog</a></span></li>
                        </ul>
		</div>
		<div class="fourteen columns">
			<div id="content"><h1>LaTeX Calendars</h1>
<p><em>Posted 2014-01-16.</em></p>
<p>The style of calendar I like has a page size image
with text of a vertical calendar superimposed on it.
Here's a sample of the calendar text, output from <code>ncal -h</code>.</p>
<pre><code>        January 2014      
    Su     5 12 19 26   
    Mo     6 13 20 27   
    Tu     7 14 21 28   
    We  1  8 15 22 29   
    Th  2  9 16 23 30   
    Fr  3 10 17 24 31   
    Sa  4 11 18 25      
</code></pre>

<p>For an image I'm using  <a href="/images/balou.jpg">this photo of my dog Balou in a Chicago
snowstorm</a>,</p>
<h2>Calendar Text</h2>
<p>For superimposing the calendar text I found two approaches.  The
first is to use <code>ncal -h</code> output and use a <code>\verbatim</code>
environment.  This turned out to be a little too fragile; it
works for some fonts but not for many others.  I found <a href="http://tex.stackexchange.com/questions/39813/vertical-week-list-in-tikz-calendar/39816#39816">code at
tex.stackexchange</a>
that uses the <code>tikz</code> package's calendar library.  It has handled every font
I've  used with it.</p>
<p>As, provided, the <code>tikz</code> code produces <a href="/tikz-calendar.pdf">this small calendar</a>.</p>
<h2>Enlarge Font with <code>mathptmx</code></h2>
<p>One of my favorite LaTeX packages is <code>mathptmx</code> .  I haven't used LaTeX
for math or science, but I have used it for work reports and for personal
projects and I've always been interested in making custom title pages
with fonts of various sizes.  <code>mathptmx</code> enables use of extremely large fonts.
Adding this package to the preamble and applying the <code>\fontsize</code> and <code>\selectfont</code> commands yields 
the <a href="/tikz-calendar-40pt.pdf">same calendar in point 40 font</a>.</p>
<h2>Combining Calendar Text and Page Size Image</h2>
<p>I found two approaches for combining calendar and image.  One is to
use the LaTeX <code>wallpaper</code> package and to write the calendar over it.
While this works it enforces lots of LaTeX's built-in heuristics for
placing the calendar text.  Another approach proved more flexible.
The <code>overpic</code> package's <code>\put</code> command allows placing text over a picture
with coordinates.</p>
<p>The following code produces <a href="/cal.pdf">this calendar</a>.</p>
<pre><code>\documentclass{article}
\usepackage{mathptmx}
\usepackage[landscape,margin=.5cm]{geometry}
\usepackage{graphicx}
\usepackage{overpic}
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{calendar}
\makeatletter
\tikzstyle{week list}=[%
  execute before day scope={%
    \ifdate{day of month=1}{\ifdate{equals=\pgfcalendarbeginiso}{}
      {%
        % On first of month, except when first date in calendar.
        \pgfmathsetlength{\pgf@x}{\tikz@lib@cal@month@xshift}%
        \pgftransformxshift{\pgf@x}
      }%
    }{}%
  }, 
  execute at begin day scope={%
    \pgfmathsetlength\pgf@y{\tikz@lib@cal@yshift}%
    \pgf@y=\pgfcalendarcurrentweekday\pgf@y%
    \pgftransformyshift{-\pgf@y}%
  },
  execute after day scope={%
    \ifdate{Sunday}{%
      \pgfmathsetlength{\pgf@x}{\tikz@lib@cal@xshift}%
      \pgftransformxshift{\pgf@x}
    }{}%
  }
]

\tikzoption{day headings}{\tikzstyle{day heading}=[#1]}
\tikzstyle{day heading}=[]
\tikzstyle{day letter headings}=[
    execute before day scope={ \ifdate{day of month=1}{%
      \pgfmathsetlength\pgf@ya{\tikz@lib@cal@yshift}%
      \pgfmathsetlength\pgf@xa{\tikz@lib@cal@xshift}%
      \pgftransformxshift{\pgf@xa}
      \foreach \d/\l in {0/M,1/T,2/W,3/T,4/F,5/S,6/S} {
        \pgf@ya=\d\pgf@ya%
        \pgftransformxshift{-\pgf@xa}%
        \pgftransformyshift{-\pgf@ya}%
        \node[every day,day heading, anchor=base]{\l};%
      } 
    }{}%
  }%
]
\makeatother

\pagestyle{empty}

\begin{document}
\color{white}    
\vspace*{\fill}
\fontsize{40}{50}\selectfont
\begin{overpic}[scale=.2]{images/balou.jpg}
\put(-1,10){
\begin{tikzpicture}
\calendar[
    dates=2014-01-01 to 2014-01-last,
    week list,
    day letter headings,
    day heading/.style={white, xshift=-1em},
    month label above left,
    month text=\%mt \%y0
];
\end{tikzpicture}
}
\end{overpic}
\vspace*{\fill}
\end{document}
</code></pre>

<h2>Repo</h2>
<p>Source files are on github: <a href="https://github.com/trauber/latex-calendar">https://github.com/trauber/latex-calendar</a>
.</p></div>
		</div>
	</div>
</body>
</html>
